!function(e){function t(t,i,r){var o=this;return this.on("click.pjax",t,function(t){var a=e.extend({},v(i,r));a.container||(a.container=e(this).attr("data-pjax")||o),n(t,a)})}function n(t,n,i){i=v(n,i);var o=t.currentTarget;if("A"!==o.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol!==o.protocol||location.hostname!==o.hostname||o.href.indexOf("#")>-1&&y(o)==y(location)||t.isDefaultPrevented())){var a={url:o.href,container:e(o).attr("data-pjax"),target:o},s=e.extend({},a,i),u=e.Event("pjax:click");e(o).trigger(u,[s]),u.isDefaultPrevented()||(r(s),t.preventDefault(),e(o).trigger("pjax:clicked",[s]))}}function i(t,n,i){i=v(n,i);var o=t.currentTarget;if("FORM"!==o.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var a={type:o.method.toUpperCase(),url:o.action,container:e(o).attr("data-pjax"),target:o};if("GET"!==a.type&&void 0!==window.FormData)a.data=new FormData(o),a.processData=!1,a.contentType=!1;else{if(e(o).find(":file").length)return;a.data=e(o).serializeArray()}r(e.extend({},a,i)),t.preventDefault()}function r(t){function s(t,i,r){r||(r={}),r.relatedTarget=n;var a=e.Event(t,r);return o.trigger(a,i),!a.isDefaultPrevented()}t=e.extend(!0,{},e.ajaxSettings,r.defaults,t),e.isFunction(t.url)&&(t.url=t.url());var n=t.target,i=m(t.url).hash,o=t.context=x(t.container);t.data||(t.data={}),e.isArray(t.data)?t.data.push({name:"_pjax",value:o.selector}):t.data._pjax=o.selector;var u;t.beforeSend=function(e,n){if("GET"!==n.type&&(n.timeout=0),e.setRequestHeader("X-PJAX","true"),e.setRequestHeader("X-PJAX-Container",o.selector),!s("pjax:beforeSend",[e,n]))return!1;n.timeout>0&&(u=setTimeout(function(){s("pjax:timeout",[e,t])&&e.abort("timeout")},n.timeout),n.timeout=0);var r=m(n.url);i&&(r.hash=i),t.requestUrl=g(r)},t.complete=function(e,n){u&&clearTimeout(u),s("pjax:complete",[e,n,t]),s("pjax:end",[e,t])},t.error=function(e,n,i){var r=T("",e,t),o=s("pjax:error",[e,n,i,t]);"GET"==t.type&&"abort"!==n&&o&&a(r.url)},t.success=function(n,u,f){var l=r.state,c="function"==typeof e.pjax.defaults.version?e.pjax.defaults.version():e.pjax.defaults.version,p=f.getResponseHeader("X-PJAX-Version"),h=T(n,f,t),g=m(h.url);if(i&&(g.hash=i,h.url=g.href),c&&p&&c!==p)return void a(h.url);if(!h.contents)return void a(h.url);r.state={id:t.id||d(),url:h.url,title:h.title,container:o.selector,fragment:t.fragment,timeout:t.timeout},(t.push||t.replace)&&window.history.replaceState(r.state,h.title,h.url);var y=e.contains(t.container,document.activeElement);if(y)try{document.activeElement.blur()}catch(v){}h.title&&(document.title=h.title),s("pjax:beforeReplace",[h.contents,t],{state:r.state,previousState:l}),o.html(h.contents);var x=o.find("input[autofocus], textarea[autofocus]").last()[0];x&&document.activeElement!==x&&x.focus(),C(h.scripts);var w=t.scrollTo;if(i){var b=decodeURIComponent(i.slice(1)),j=document.getElementById(b)||document.getElementsByName(b)[0];j&&(w=e(j).offset().top)}"number"==typeof w&&e(window).scrollTop(w),s("pjax:success",[n,u,f,t])},r.state||(r.state={id:d(),url:window.location.href,title:document.title,container:o.selector,fragment:t.fragment,timeout:t.timeout},window.history.replaceState(r.state,document.title)),p(r.xhr),r.options=t;var f=r.xhr=e.ajax(t);return f.readyState>0&&(t.push&&!t.replace&&(N(r.state.id,h(o)),window.history.pushState(null,"",t.requestUrl)),s("pjax:start",[f,t]),s("pjax:send",[f,t])),r.xhr}function o(t,n){var i={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return r(e.extend(i,v(t,n)))}function a(e){window.history.replaceState(null,"",r.state.url),window.location.replace(e)}function l(t){s||p(r.xhr);var o,n=r.state,i=t.state;if(i&&i.container){if(s&&u==i.url)return;if(n){if(n.id===i.id)return;o=n.id<i.id?"forward":"back"}var f=j[i.id]||[],l=e(f[0]||i.container),c=f[1];if(l.length){n&&S(o,n.id,h(l));var d=e.Event("pjax:popstate",{state:i,direction:o});l.trigger(d);var g={id:i.id,url:i.url,container:l,push:!1,fragment:i.fragment,timeout:i.timeout,scrollTo:!1};if(c){l.trigger("pjax:start",[null,g]),r.state=i,i.title&&(document.title=i.title);var m=e.Event("pjax:beforeReplace",{state:i,previousState:n});l.trigger(m,[c,g]),l.html(c),l.trigger("pjax:end",[null,g])}else r(g);l[0].offsetHeight}else a(location.href)}s=!1}function c(t){var n=e.isFunction(t.url)?t.url():t.url,i=t.type?t.type.toUpperCase():"GET",r=e("<form>",{method:"GET"===i?"GET":"POST",action:n,style:"display:none"});"GET"!==i&&"POST"!==i&&r.append(e("<input>",{type:"hidden",name:"_method",value:i.toLowerCase()}));var o=t.data;if("string"==typeof o)e.each(o.split("&"),function(t,n){var i=n.split("=");r.append(e("<input>",{type:"hidden",name:i[0],value:i[1]}))});else if(e.isArray(o))e.each(o,function(t,n){r.append(e("<input>",{type:"hidden",name:n.name,value:n.value}))});else if("object"==typeof o){var a;for(a in o)r.append(e("<input>",{type:"hidden",name:a,value:o[a]}))}e(document.body).append(r),r.submit()}function p(t){t&&t.readyState<4&&(t.onreadystatechange=e.noop,t.abort())}function d(){return(new Date).getTime()}function h(e){var t=e.clone();return t.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),[e.selector,t.contents()]}function g(e){return e.search=e.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),e.href.replace(/\?($|#)/,"$1")}function m(e){var t=document.createElement("a");return t.href=e,t}function y(e){return e.href.replace(/#.*/,"")}function v(t,n){return t&&n?n.container=t:n=e.isPlainObject(t)?t:{container:t},n.container&&(n.container=x(n.container)),n}function x(t){if(t=e(t),t.length){if(""!==t.selector&&t.context===document)return t;if(t.attr("id"))return e("#"+t.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+t.selector}function w(e,t){return e.filter(t).add(e.find(t))}function b(t){return e.parseHTML(t,document,!0)}function T(t,n,i){var r={},o=/<html/i.test(t),a=n.getResponseHeader("X-PJAX-URL");if(r.url=a?g(m(a)):i.requestUrl,o)var s=e(b(t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),u=e(b(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var s=u=e(b(t));if(0===u.length)return r;if(r.title=w(s,"title").last().text(),i.fragment){if("body"===i.fragment)var f=u;else var f=w(u,i.fragment).first();f.length&&(r.contents="body"===i.fragment?f:f.contents(),r.title||(r.title=f.attr("title")||f.data("title")))}else o||(r.contents=u);return r.contents&&(r.contents=r.contents.not(function(){return e(this).is("title")}),r.contents.find("title").remove(),r.scripts=w(r.contents,"script[src]").remove(),r.contents=r.contents.not(r.scripts)),r.title&&(r.title=e.trim(r.title)),r}function C(t){if(t){var n=e("script[src]");t.each(function(){var t=this.src,i=n.filter(function(){return this.src===t});if(!i.length){var r=document.createElement("script"),o=e(this).attr("type");o&&(r.type=o),r.src=e(this).attr("src"),document.head.appendChild(r)}})}}function N(e,t){j[e]=t,E.push(e),D(k,0),D(E,r.defaults.maxCacheLength)}function S(e,t,n){var i,o;j[t]=n,"forward"===e?(i=E,o=k):(i=k,o=E),i.push(t),(t=o.pop())&&delete j[t],D(i,r.defaults.maxCacheLength)}function D(e,t){for(;e.length>t;)delete j[e.shift()]}function A(){return e("meta").filter(function(){var t=e(this).attr("http-equiv");return t&&"X-PJAX-VERSION"===t.toUpperCase()}).attr("content")}function L(){e.fn.pjax=t,e.pjax=r,e.pjax.enable=e.noop,e.pjax.disable=q,e.pjax.click=n,e.pjax.submit=i,e.pjax.reload=o,e.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:A},e(window).on("popstate.pjax",l)}function q(){e.fn.pjax=function(){return this},e.pjax=c,e.pjax.enable=L,e.pjax.disable=e.noop,e.pjax.click=e.noop,e.pjax.submit=e.noop,e.pjax.reload=function(){window.location.reload()},e(window).off("popstate.pjax",l)}var s=!0,u=window.location.href,f=window.history.state;f&&f.container&&(r.state=f),"state"in window.history&&(s=!1);var j={},k=[],E=[];e.inArray("state",e.event.props)<0&&e.event.props.push("state"),e.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),e.support.pjax?L():q()}(jQuery);
